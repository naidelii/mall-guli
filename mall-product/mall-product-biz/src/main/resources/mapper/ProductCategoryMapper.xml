<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mall.product.biz.mapper.ProductCategoryMapper">


    <select id="listByParentId" resultType="com.mall.product.biz.domain.entity.ProductCategory">
        select * from product_category pc
        <where>
            pc.parent_id = #{parentId}
        </where>
    </select>

    <select id="getDetailsById" resultType="com.mall.product.biz.domain.vo.ProductCategoryVo">
        select
            pc.* ,
            parent.category_name AS parent_name
        FROM
            product_category pc
        LEFT JOIN product_category parent  ON pc.parent_id = parent.id
        <where>
            pc.id = #{id}
        </where>
    </select>
</mapper>